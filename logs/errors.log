[2022-04-23 02:10:01,681] ERROR in app: this is error
[2022-04-23 02:10:01,681] CRITICAL in app: this is critical
[2022-04-23 16:39:02,897] ERROR in app: Exception on /login [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/resources/AuthResource.py", line 52, in post
    'token':token.decode('UTF-8')
AttributeError: 'str' object has no attribute 'decode'
[2022-04-23 16:39:55,398] ERROR in app: Exception on /login [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/resources/AuthResource.py", line 26, in post
    'token':token.decode('UTF-8')
AttributeError: 'str' object has no attribute 'decode'
[2022-04-23 16:39:56,245] ERROR in app: Exception on /login [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/resources/AuthResource.py", line 26, in post
    'token':token.decode('UTF-8')
AttributeError: 'str' object has no attribute 'decode'
[2022-04-23 16:40:41,429] ERROR in app: Exception on /login [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/resources/AuthResource.py", line 26, in post
    'token':token.decode('UTF-8')
AttributeError: 'str' object has no attribute 'decode'
[2022-04-23 16:41:38,906] ERROR in app: Exception on /login [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/resources/AuthResource.py", line 52, in post
    return jsonify({
  File "/opt/homebrew/lib/python3.9/site-packages/flask/json/__init__.py", line 354, in jsonify
    raise TypeError("jsonify() behavior undefined when passed both args and kwargs")
TypeError: jsonify() behavior undefined when passed both args and kwargs
[2022-04-23 16:50:19,667] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 159, in decorated
    user = self.authenticate(auth, password)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 240, in authenticate
    return self.ensure_sync(self.verify_password_callback)(
TypeError: verify_pwd() takes 1 positional argument but 2 were given
[2022-04-23 16:53:45,996] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 159, in decorated
    user = self.authenticate(auth, password)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 240, in authenticate
    return self.ensure_sync(self.verify_password_callback)(
TypeError: verify_pwd() takes 1 positional argument but 2 were given
[2022-04-23 16:55:20,497] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 159, in decorated
    user = self.authenticate(auth, password)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 240, in authenticate
    return self.ensure_sync(self.verify_password_callback)(
TypeError: verify_pwd() takes 1 positional argument but 2 were given
[2022-04-23 16:55:55,381] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 159, in decorated
    user = self.authenticate(auth, password)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_httpauth.py", line 240, in authenticate
    return self.ensure_sync(self.verify_password_callback)(
TypeError: verify_pwd() takes 1 positional argument but 2 were given
[2022-04-23 16:56:18,474] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 471, in wrapper
    return self.make_response(data, code, headers=headers)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 500, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type function is not JSON serializable
[2022-04-23 17:15:31,031] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/common/auth.py", line 25, in decorator
    return f(*args, **kwargs)
TypeError: get() takes 1 positional argument but 2 were given
[2022-04-23 17:16:13,189] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/common/auth.py", line 25, in decorator
    return f(*args)
TypeError: get() takes 1 positional argument but 2 were given
[2022-04-23 17:16:23,981] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/media-service/common/auth.py", line 25, in decorator
    return f(*args)
TypeError: get() takes 1 positional argument but 2 were given
[2022-04-23 17:17:15,780] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 471, in wrapper
    return self.make_response(data, code, headers=headers)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 500, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
[2022-04-23 17:17:34,068] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 471, in wrapper
    return self.make_response(data, code, headers=headers)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 500, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
[2022-04-23 17:18:25,185] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 471, in wrapper
    return self.make_response(data, code, headers=headers)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 500, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
[2022-04-23 17:56:44,524] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 40, in post
    email = request_data['email']
KeyError: 'email'
[2022-04-23 18:03:53,231] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1808, in _execute_context
    self.dialect.do_execute(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
mariadb.DataError: Data type 'UUID' in column 0 not supported in MariaDB Connector/Python

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 43, in post
    self.user_service.register(email, password)
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 9, in register
    db.session.commit()
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1237, in _emit_insert_statements
    result = connection._execute_20(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1620, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1487, in _execute_clauseelement
    ret = self._execute_context(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1851, in _execute_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2032, in _handle_dbapi_exception
    util.raise_(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1808, in _execute_context
    self.dialect.do_execute(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (mariadb.DataError) Data type 'UUID' in column 0 not supported in MariaDB Connector/Python
[SQL: INSERT INTO user (id, email, password, token, updated_at) VALUES (?, ?, ?, ?, ?)]
[parameters: (UUID('8b8bb462-4149-4020-95d2-045b84772ebf'), 'a', 'b', None, datetime.datetime(2022, 4, 23, 18, 3, 53, 227079))]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
[2022-04-23 18:05:11,157] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1808, in _execute_context
    self.dialect.do_execute(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
mariadb.DataError: Data type 'UUID' in column 0 not supported in MariaDB Connector/Python

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 43, in post
    self.user_service.register(email, password)
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 9, in register
    db.session.commit()
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1237, in _emit_insert_statements
    result = connection._execute_20(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1620, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1487, in _execute_clauseelement
    ret = self._execute_context(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1851, in _execute_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2032, in _handle_dbapi_exception
    util.raise_(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1808, in _execute_context
    self.dialect.do_execute(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.DataError: (mariadb.DataError) Data type 'UUID' in column 0 not supported in MariaDB Connector/Python
[SQL: INSERT INTO user (id, email, password, token, updated) VALUES (?, ?, ?, ?, ?)]
[parameters: (UUID('fa14d017-6554-49b9-bad1-0816009cd8be'), 'a', 'b', None, datetime.datetime(2022, 4, 23, 18, 5, 11, 154675))]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
[2022-04-23 18:06:32,098] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1808, in _execute_context
    self.dialect.do_execute(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
mariadb.OperationalError: Unknown column 'created_at' in 'field list'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 43, in post
    self.user_service.register(email, password)
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 9, in register
    db.session.commit()
  File "<string>", line 2, in commit
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 1431, in commit
    self._transaction.commit(_to_root=self.future)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 829, in commit
    self._prepare_impl()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 808, in _prepare_impl
    self.session.flush()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3363, in flush
    self._flush(objects)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3503, in _flush
    transaction.rollback(_capture_exception=True)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/langhelpers.py", line 70, in __exit__
    compat.raise_(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/session.py", line 3463, in _flush
    flush_context.execute()
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 456, in execute
    rec.execute(self)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/unitofwork.py", line 630, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 244, in save_obj
    _emit_insert_statements(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/orm/persistence.py", line 1237, in _emit_insert_statements
    result = connection._execute_20(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1620, in _execute_20
    return meth(self, args_10style, kwargs_10style, execution_options)
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/sql/elements.py", line 325, in _execute_on_connection
    return connection._execute_clauseelement(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1487, in _execute_clauseelement
    ret = self._execute_context(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1851, in _execute_context
    self._handle_dbapi_exception(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 2032, in _handle_dbapi_exception
    util.raise_(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/util/compat.py", line 207, in raise_
    raise exception
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/base.py", line 1808, in _execute_context
    self.dialect.do_execute(
  File "/opt/homebrew/lib/python3.9/site-packages/sqlalchemy/engine/default.py", line 732, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (mariadb.OperationalError) Unknown column 'created_at' in 'field list'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('f42e5175-47c1-4cff-8d6b-d2f76c0027cf', 'a', 'b', None, datetime.datetime(2022, 4, 23, 18, 6, 32, 96016), datetime.datetime(2022, 4, 23, 18, 6, 32, 96039))]
(Background on this error at: https://sqlalche.me/e/14/e3q8)
[2022-04-23 18:32:53,752] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 37, in post
    request_data = parsing_args({
  File "/Users/tielinli/Workspace/storage/common/core.py", line 11, in parsing_args
    for key, type in args:
ValueError: too many values to unpack (expected 2)
[2022-04-23 18:34:42,994] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 43, in post
    return error('Registration failed', 400)
  File "/Users/tielinli/Workspace/storage/common/responses.py", line 7, in error
    return jsonify({
  File "/opt/homebrew/lib/python3.9/site-packages/flask/json/__init__.py", line 361, in jsonify
    f"{dumps(data, indent=indent, separators=separators)}\n",
  File "/opt/homebrew/lib/python3.9/site-packages/flask/json/__init__.py", line 139, in dumps
    rv = _json.dumps(obj, **kwargs)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 234, in dumps
    return cls(
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/json/__init__.py", line 57, in default
    return super().default(o)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
[2022-04-23 18:37:42,799] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 471, in wrapper
    return self.make_response(data, code, headers=headers)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 500, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type set is not JSON serializable
[2022-04-23 18:40:46,660] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 41, in post
    if not self.user_service.register(email, password):
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 23, in register
    logging.info('User {} registration successful'.format(user.username))
AttributeError: 'User' object has no attribute 'username'
[2022-04-23 18:41:14,574] ERROR in UserService: Error (mariadb.IntegrityError) Duplicate entry 'a@a.com' for key 'email'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('a4be47f0-014b-4cd5-8783-35eb45c8aae5', 'a@a.com', 'b', None, datetime.datetime(2022, 4, 23, 18, 41, 14, 570280), datetime.datetime(2022, 4, 23, 18, 41, 14, 570307))]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[2022-04-23 19:04:10,838] ERROR in User: Error (mariadb.IntegrityError) Duplicate entry '36ae003b-d6b3-4a30-a79e-9dde22949894' for key 'PRIMARY'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('36ae003b-d6b3-4a30-a79e-9dde22949894', 'a@e.com', '593c9b4a9390551d53e5cacf28ebd638', None, datetime.datetime(2022, 4, 23, 19, 4, 10, 837828), datetime.datetime(2022, 4, 23, 19, 4, 10, 837856))]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[2022-04-23 19:04:15,461] ERROR in User: Error (mariadb.IntegrityError) Duplicate entry '36ae003b-d6b3-4a30-a79e-9dde22949894' for key 'PRIMARY'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('36ae003b-d6b3-4a30-a79e-9dde22949894', 'a@e.com', 'e11170b8cbd2d74102651cb967fa28e5', None, datetime.datetime(2022, 4, 23, 19, 4, 15, 457782), datetime.datetime(2022, 4, 23, 19, 4, 15, 457797))]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[2022-04-23 19:04:30,875] ERROR in User: Error (mariadb.IntegrityError) Duplicate entry '36ae003b-d6b3-4a30-a79e-9dde22949894' for key 'PRIMARY'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('36ae003b-d6b3-4a30-a79e-9dde22949894', 'a@e.com', 'e11170b8cbd2d74102651cb967fa28e5', None, datetime.datetime(2022, 4, 23, 19, 4, 30, 875138), datetime.datetime(2022, 4, 23, 19, 4, 30, 875154))]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[2022-04-23 19:05:04,212] ERROR in User: Error (mariadb.IntegrityError) Duplicate entry '9f654418-b36e-44dd-9a6a-ee598de773ed' for key 'PRIMARY'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('9f654418-b36e-44dd-9a6a-ee598de773ed', 'a@asd.com', 'e11170b8cbd2d74102651cb967fa28e5', None, datetime.datetime(2022, 4, 23, 19, 5, 4, 212062), datetime.datetime(2022, 4, 23, 19, 5, 4, 212079))]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[2022-04-23 19:05:05,352] ERROR in User: Error (mariadb.IntegrityError) Duplicate entry '9f654418-b36e-44dd-9a6a-ee598de773ed' for key 'PRIMARY'
[SQL: INSERT INTO user (id, email, password, token, created_at, updated_at) VALUES (?, ?, ?, ?, ?, ?)]
[parameters: ('9f654418-b36e-44dd-9a6a-ee598de773ed', 'a@asd.com', 'e11170b8cbd2d74102651cb967fa28e5', None, datetime.datetime(2022, 4, 23, 19, 5, 5, 351096), datetime.datetime(2022, 4, 23, 19, 5, 5, 351109))]
(Background on this error at: https://sqlalche.me/e/14/gkpj)
[2022-04-23 19:08:04,844] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 41, in post
    return self.user_service.register(email, password)
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 16, in register
    if User.get(email=email):
  File "/Users/tielinli/Workspace/storage/models/User.py", line 20, in get
    user = db.session.query(User).filter_by(kwargs).first()
TypeError: filter_by() takes 1 positional argument but 2 were given
[2022-04-23 19:08:39,266] ERROR in app: Exception on /register [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 41, in post
    return self.user_service.register(email, password)
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 16, in register
    if User.get(email=email):
TypeError: get() got an unexpected keyword argument 'email'
[2022-04-23 19:26:59,496] ERROR in auth: Something went wrong while verify_token It is required that you pass in a value for the "algorithms" argument when calling decode().
[2022-04-23 19:27:51,335] ERROR in auth: Something went wrong while verify_token It is required that you pass in a value for the "algorithms" argument when calling decode().
[2022-04-23 19:32:31,408] ERROR in app: Exception on /testlogin [GET]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 471, in wrapper
    return self.make_response(data, code, headers=headers)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 500, in make_response
    resp = self.representations[mediatype](data, *args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/representations/json.py", line 21, in output_json
    dumped = dumps(data, **settings) + "\n"
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/__init__.py", line 231, in dumps
    return _default_encoder.encode(obj)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 199, in encode
    chunks = self.iterencode(o, _one_shot=True)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 257, in iterencode
    return _iterencode(o, 0)
  File "/opt/homebrew/Cellar/python@3.9/3.9.12/Frameworks/Python.framework/Versions/3.9/lib/python3.9/json/encoder.py", line 179, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
TypeError: Object of type builtin_function_or_method is not JSON serializable
[2022-04-23 20:18:34,596] ERROR in core: Something went wrong while verify_token 'user_id'
[2022-04-23 20:18:42,378] ERROR in app: Exception on /login [POST]
Traceback (most recent call last):
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1516, in full_dispatch_request
    rv = self.dispatch_request()
  File "/opt/homebrew/lib/python3.9/site-packages/flask/app.py", line 1502, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**req.view_args)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 467, in wrapper
    resp = resource(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask/views.py", line 84, in view
    return current_app.ensure_sync(self.dispatch_request)(*args, **kwargs)
  File "/opt/homebrew/lib/python3.9/site-packages/flask_restful/__init__.py", line 582, in dispatch_request
    resp = meth(*args, **kwargs)
  File "/Users/tielinli/Workspace/storage/resources/AuthResource.py", line 18, in post
    return self.user_service.login(email, password)
  File "/Users/tielinli/Workspace/storage/services/UserService.py", line 29, in login
    hash_password = encrypt_md5(password)
  File "/Users/tielinli/Workspace/storage/common/core.py", line 27, in encrypt_md5
    new_md5.update(str.encode(encoding='utf-8'))
AttributeError: 'NoneType' object has no attribute 'encode'
[2022-04-23 20:20:50,887] ERROR in core: Something went wrong while verify_token 'user_id'
[2022-04-23 20:21:00,604] ERROR in core: Something went wrong while verify_token 'user_id'
[2022-04-23 20:21:51,048] ERROR in core: Something went wrong while verify_token 'user_id'
[2022-04-23 20:22:57,686] ERROR in core: Something went wrong while verify_token 'user_id'
[2022-04-23 20:22:58,379] ERROR in core: Something went wrong while verify_token 'user_id'
[2022-04-23 20:23:17,861] ERROR in core: Something went wrong while verify_token 'id'
[2022-04-23 20:36:03,208] ERROR in core: Something went wrong while verify_token Entity namespace for "user" has no property "key"
[2022-04-23 20:37:18,356] ERROR in core: Something went wrong while verify_token Entity namespace for "user" has no property "key"
[2022-04-23 20:38:17,055] ERROR in core: Something went wrong while verify_token Entity namespace for "user" has no property "key"
[2022-04-23 20:39:33,181] ERROR in core: Something went wrong while verify_token Entity namespace for "user" has no property "key"
[2022-04-23 20:40:38,158] ERROR in core: Something went wrong while verify_token too many values to unpack (expected 2)
[2022-04-23 20:44:19,691] ERROR in core: Something went wrong while verify_token too many values to unpack (expected 2)
[2022-04-23 20:44:29,832] ERROR in core: Something went wrong while verify_token too many values to unpack (expected 2)
[2022-04-23 20:44:40,806] ERROR in core: Something went wrong while verify_token too many values to unpack (expected 2)
[2022-04-23 20:46:30,900] ERROR in core: Something went wrong while verify_token too many values to unpack (expected 2)
[2022-04-23 20:47:02,591] ERROR in User: Error (mariadb.DataError) Data type 'dict' in column 0 not supported in MariaDB Connector/Python
[SQL: UPDATE user SET api_key=? WHERE user.id = ?]
[parameters: ({'api_key': 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpZCI6Ijc2ZDE5ZTY0LWE4MTAtNDY0Ni05YjVmLThjYzliNThlZDk2ZCJ9.s5G0VPbNjOtHHL7pYIiZbhAK3tFV6XQwVcM9Ef4rPNo'}, '76d19e64-a810-4646-9b5f-8cc9b58ed96d')]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
[2022-04-23 20:50:54,493] ERROR in User: Error (mariadb.DataError) Data type 'builtin_function_or_method' in column 0 not supported in MariaDB Connector/Python
[SQL: UPDATE user SET updated_at=? WHERE user.id = ?]
[parameters: (<built-in method now of type object at 0x1015886c8>, '76d19e64-a810-4646-9b5f-8cc9b58ed96d')]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
[2022-04-23 20:52:04,183] ERROR in User: Error (mariadb.DataError) Data type 'builtin_function_or_method' in column 0 not supported in MariaDB Connector/Python
[SQL: UPDATE user SET updated_at=? WHERE user.id = ?]
[parameters: (<built-in method now of type object at 0x100eb46c8>, '76d19e64-a810-4646-9b5f-8cc9b58ed96d')]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
[2022-04-23 20:52:22,062] ERROR in User: Error (mariadb.DataError) Data type 'builtin_function_or_method' in column 0 not supported in MariaDB Connector/Python
[SQL: UPDATE user SET updated_at=? WHERE user.id = ?]
[parameters: (<built-in method now of type object at 0x104f946c8>, '76d19e64-a810-4646-9b5f-8cc9b58ed96d')]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
[2022-04-23 20:53:01,655] ERROR in User: Error (mariadb.DataError) Data type 'builtin_function_or_method' in column 0 not supported in MariaDB Connector/Python
[SQL: UPDATE user SET updated_at=? WHERE user.id = ?]
[parameters: (<built-in method now of type object at 0x1028306c8>, '76d19e64-a810-4646-9b5f-8cc9b58ed96d')]
(Background on this error at: https://sqlalche.me/e/14/9h9h)
